{
  "appName": "Fitness & Ern√§hrungs-Tracker Dashboard",
  "description": "A comprehensive fitness and nutrition dashboard showing workout progress, nutrition tracking, body measurements, and goal achievement metrics for personal fitness tracking.",

  "kpis": [
    {
      "id": "total_workouts",
      "label": "Workouts",
      "description": "Total number of workout sessions this month. Key metric to track training consistency.",
      "dataSource": "workouts",
      "calculation": "Count workout records where datum is in current month and rest_day is false",
      "visualType": "stat_card",
      "icon": "dumbbell",
      "trend": "compare to previous month"
    },
    {
      "id": "avg_workout_duration",
      "label": "Avg Duration",
      "description": "Average workout duration in minutes. Shows training intensity and time commitment.",
      "dataSource": "workouts",
      "calculation": "Average of dauer_minuten for current month (excluding rest days)",
      "visualType": "stat_card",
      "icon": "clock",
      "unit": "min",
      "trend": "compare to previous month"
    },
    {
      "id": "calories_today",
      "label": "Calories Today",
      "description": "Total calories consumed today vs daily goal. Critical for nutrition tracking.",
      "dataSource": "ernaehrung + ziele",
      "calculation": "Sum kalorien where datum = today, compare to taeglich_kalorien from active goal",
      "visualType": "stat_card_with_progress",
      "icon": "flame",
      "unit": "kcal",
      "showProgress": true
    },
    {
      "id": "protein_today",
      "label": "Protein Today",
      "description": "Total protein consumed today vs daily goal. Essential for muscle building.",
      "dataSource": "ernaehrung + ziele",
      "calculation": "Sum protein where datum = today, compare to taeglich_protein from active goal",
      "visualType": "stat_card_with_progress",
      "icon": "egg",
      "unit": "g",
      "showProgress": true
    },
    {
      "id": "current_weight",
      "label": "Weight",
      "description": "Most recent body weight measurement. Primary body composition metric.",
      "dataSource": "koerperdaten",
      "calculation": "Latest gewicht_kg sorted by datum DESC",
      "visualType": "stat_card",
      "icon": "scale",
      "unit": "kg",
      "trend": "compare to 30 days ago"
    },
    {
      "id": "weekly_workout_goal",
      "label": "Weekly Goal",
      "description": "Workouts completed this week vs weekly goal. Shows adherence to training plan.",
      "dataSource": "workouts + ziele",
      "calculation": "Count workouts this week vs trainingstage_pro_woche from active goal",
      "visualType": "stat_card_with_progress",
      "icon": "target",
      "showProgress": true
    }
  ],

  "charts": [
    {
      "id": "workout_frequency_chart",
      "title": "Workout Frequency",
      "chartType": "bar",
      "description": "Shows workout frequency over the last 30 days. Helps identify training patterns and consistency.",
      "dataSource": "workouts",
      "xAxis": "datum (grouped by day)",
      "yAxis": "count of workouts",
      "timeRange": "last 30 days",
      "filters": "exclude rest_day = true",
      "colorBy": "typ",
      "responsive": {
        "mobile": "Show last 14 days, smaller bars, rotate x-axis labels",
        "desktop": "Show full 30 days with color-coded workout types"
      }
    },
    {
      "id": "workout_duration_trend",
      "title": "Workout Duration Trend",
      "chartType": "line",
      "description": "Tracks workout duration over time to see if training sessions are getting longer or shorter.",
      "dataSource": "workouts",
      "xAxis": "datum",
      "yAxis": "dauer_minuten",
      "timeRange": "last 30 days",
      "showAverage": true,
      "responsive": {
        "mobile": "Simplified line, no grid",
        "desktop": "Full line chart with grid and average line"
      }
    },
    {
      "id": "workout_type_distribution",
      "title": "Training Type Distribution",
      "chartType": "pie",
      "description": "Shows distribution of workout types (Push, Pull, Legs, etc.) to ensure balanced training.",
      "dataSource": "workouts",
      "metric": "count by typ",
      "timeRange": "last 30 days",
      "responsive": {
        "mobile": "Compact pie with legend below",
        "desktop": "Larger pie with legend on right"
      }
    },
    {
      "id": "nutrition_weekly_chart",
      "title": "Weekly Nutrition Overview",
      "chartType": "area",
      "description": "Stacked area chart showing daily calorie intake over the past 7 days.",
      "dataSource": "ernaehrung",
      "xAxis": "datum (last 7 days)",
      "yAxis": "kalorien (sum per day)",
      "showGoalLine": true,
      "goalLineSource": "ziele.taeglich_kalorien",
      "responsive": {
        "mobile": "Simplified area, no grid",
        "desktop": "Full area with goal line and grid"
      }
    },
    {
      "id": "macros_today_chart",
      "title": "Today's Macros",
      "chartType": "bar",
      "description": "Shows macronutrient breakdown for today (Protein, Carbs, Fat in grams).",
      "dataSource": "ernaehrung",
      "xAxis": "macro type (Protein, Carbs, Fett)",
      "yAxis": "grams",
      "filter": "datum = today",
      "horizontal": true,
      "responsive": {
        "mobile": "Horizontal bars, compact",
        "desktop": "Horizontal bars with values displayed"
      }
    },
    {
      "id": "weight_progress_chart",
      "title": "Weight Progress",
      "chartType": "line",
      "description": "Body weight trend over time. Critical for tracking bulk/cut progress.",
      "dataSource": "koerperdaten",
      "xAxis": "datum",
      "yAxis": "gewicht_kg",
      "timeRange": "last 90 days",
      "showTrendLine": true,
      "responsive": {
        "mobile": "Simplified line, last 30 days",
        "desktop": "Full 90-day line with trend line"
      }
    },
    {
      "id": "body_measurements_chart",
      "title": "Body Measurements",
      "chartType": "line",
      "description": "Track multiple body measurements over time (chest, waist, arms, etc.).",
      "dataSource": "koerperdaten",
      "xAxis": "datum",
      "yAxis": "measurements (brustumfang, taillenumfang, armumfang)",
      "multiLine": true,
      "timeRange": "last 90 days",
      "responsive": {
        "mobile": "Show only 2 key measurements, last 30 days",
        "desktop": "Show all measurements with legend"
      }
    },
    {
      "id": "exercise_progress_chart",
      "title": "Top Exercise Progress",
      "chartType": "line",
      "description": "Shows weight progression for top 3 most frequent exercises over time.",
      "dataSource": "workout_logs",
      "xAxis": "workout.datum (via applookup)",
      "yAxis": "gewicht",
      "groupBy": "uebung (via applookup, show top 3 by frequency)",
      "timeRange": "last 60 days",
      "responsive": {
        "mobile": "Show top 1 exercise only",
        "desktop": "Show top 3 exercises with separate lines"
      }
    },
    {
      "id": "mood_distribution",
      "title": "Workout Mood",
      "chartType": "pie",
      "description": "Distribution of workout mood/feeling. Shows training quality and recovery.",
      "dataSource": "workouts",
      "metric": "count by stimmung",
      "timeRange": "last 30 days",
      "responsive": {
        "mobile": "Compact pie",
        "desktop": "Larger pie with percentages"
      }
    }
  ],

  "layout": {
    "mobile": {
      "description": "Vertical stack: KPIs in 2-column grid at top, then charts stacked vertically. Prioritize most important metrics first.",
      "sections": [
        {
          "type": "kpi_grid",
          "columns": 2,
          "kpis": ["total_workouts", "calories_today", "protein_today", "current_weight", "avg_workout_duration", "weekly_workout_goal"]
        },
        {
          "type": "chart_stack",
          "charts": [
            "workout_frequency_chart",
            "nutrition_weekly_chart",
            "macros_today_chart",
            "weight_progress_chart",
            "workout_type_distribution",
            "mood_distribution"
          ]
        }
      ]
    },
    "desktop": {
      "description": "Dashboard grid: KPIs in 3-column grid at top, then 2-column chart grid below for optimal data density.",
      "sections": [
        {
          "type": "kpi_grid",
          "columns": 3,
          "kpis": ["total_workouts", "avg_workout_duration", "calories_today", "protein_today", "current_weight", "weekly_workout_goal"]
        },
        {
          "type": "chart_grid",
          "columns": 2,
          "rows": [
            {
              "charts": ["workout_frequency_chart", "nutrition_weekly_chart"]
            },
            {
              "charts": ["weight_progress_chart", "workout_duration_trend"]
            },
            {
              "charts": ["workout_type_distribution", "macros_today_chart"]
            },
            {
              "charts": ["exercise_progress_chart", "mood_distribution"]
            },
            {
              "charts": ["body_measurements_chart"],
              "span": "full"
            }
          ]
        }
      ]
    }
  },

  "theme": {
    "primaryColor": "#3b82f6",
    "secondaryColor": "#8b5cf6",
    "accentColor": "#10b981",
    "warningColor": "#f59e0b",
    "dangerColor": "#ef4444",
    "reasoning": "Fitness apps need energetic, motivating colors. Blue represents discipline and consistency, purple adds premium feel, green for success/growth. Warning/danger for nutrition tracking (over/under goals).",
    "cssVariables": {
      "--background": "0 0% 100%",
      "--foreground": "222.2 84% 4.9%",
      "--card": "0 0% 100%",
      "--card-foreground": "222.2 84% 4.9%",
      "--popover": "0 0% 100%",
      "--popover-foreground": "222.2 84% 4.9%",
      "--primary": "221.2 83.2% 53.3%",
      "--primary-foreground": "210 40% 98%",
      "--secondary": "262 52% 60%",
      "--secondary-foreground": "210 40% 98%",
      "--muted": "210 40% 96.1%",
      "--muted-foreground": "215.4 16.3% 46.9%",
      "--accent": "142.1 76.2% 36.3%",
      "--accent-foreground": "210 40% 98%",
      "--destructive": "0 84.2% 60.2%",
      "--destructive-foreground": "210 40% 98%",
      "--border": "214.3 31.8% 91.4%",
      "--input": "214.3 31.8% 91.4%",
      "--ring": "221.2 83.2% 53.3%",
      "--radius": "0.5rem",
      "--chart-1": "221.2 83.2% 53.3%",
      "--chart-2": "262 52% 60%",
      "--chart-3": "142.1 76.2% 36.3%",
      "--chart-4": "38.4 91.7% 50%",
      "--chart-5": "340.6 82.3% 52.2%"
    }
  },

  "typography": {
    "headingFont": "system-ui, -apple-system, 'Segoe UI', sans-serif",
    "bodyFont": "system-ui, -apple-system, 'Segoe UI', sans-serif",
    "reasoning": "System fonts load instantly, look native on every platform, and are highly readable for data-heavy dashboards. No need for custom fonts that slow down load times."
  },

  "filters": {
    "dateRange": {
      "enabled": true,
      "description": "Allow users to filter data by date range (Last 7 days, 30 days, 90 days, All time)",
      "defaultValue": "30 days"
    }
  },

  "dataLoadingStrategy": {
    "priority": "KPIs load first (most important), then charts load progressively",
    "caching": "Cache API responses for 5 minutes to reduce API calls",
    "errorHandling": "Show empty state with friendly message if no data, error state if API fails"
  }
}
