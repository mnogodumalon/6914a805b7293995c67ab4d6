{
  "app_analysis": {
    "purpose": "Track fitness progress, workout performance, nutrition, and body metrics in one comprehensive dashboard",
    "primary_user_goal": "See their current fitness progress at a glance and log today's workout or meal",
    "hero_metric": "Total workouts completed this month with trend comparison",
    "key_actions": [
      "Log today's workout",
      "Check if nutrition goals are met today",
      "View workout performance trends",
      "Track body measurements over time"
    ],
    "mental_model": "Users think chronologically: 'How am I doing this week/month?' and 'What do I need to do today?'"
  },

  "theme": {
    "mode": "light",
    "distinctive_element": "Warm energetic gradient background with fitness-focused orange-red accent color. Uses Outfit font family for a modern, athletic feel with distinctive number displays.",
    "font_family": "Outfit",
    "font_url": "https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap",
    "base_tone": "warm",
    "colors": {
      "background": "hsl(30 30% 97%)",
      "foreground": "hsl(20 15% 15%)",
      "card": "hsl(0 0% 100%)",
      "card_foreground": "hsl(20 15% 15%)",
      "border": "hsl(30 20% 90%)",
      "primary": "hsl(14 90% 53%)",
      "primary_foreground": "hsl(0 0% 100%)",
      "accent": "hsl(30 85% 95%)",
      "muted": "hsl(30 25% 94%)",
      "muted_foreground": "hsl(30 10% 45%)",
      "positive": "hsl(142 71% 45%)",
      "negative": "hsl(0 84% 60%)"
    },
    "background_treatment": "Subtle radial gradient from warm cream to light orange-tinted white, creating an energetic but calm atmosphere"
  },

  "layout": {
    "mobile": {
      "structure": "Single column vertical scroll with hero KPI card at top, followed by stacked sections",
      "hero_element": "Large workout count card with this month's total and comparison to last month",
      "sections_order": [
        "Hero: Monthly Workout Count",
        "Quick Stats Grid (2x2): Calories Today, Protein Today, Current Weight, Last Workout",
        "Recent Workouts List (last 5)",
        "Nutrition This Week Chart",
        "Body Weight Trend (30 days)"
      ],
      "hidden_from_mobile": [
        "Detailed exercise library",
        "Full workout logs table",
        "Body measurements breakdown (shown in simplified version)"
      ],
      "primary_action_position": "bottom_fixed",
      "navigation": "scroll"
    },
    "desktop": {
      "structure": "Three-column grid layout with hero section spanning two columns, sidebar for quick actions",
      "column_arrangement": "2fr 2fr 1fr - Main content takes 4 parts, sidebar takes 1",
      "sidebar": "Quick stats, active goals, primary action button",
      "sections_arrangement": [
        "Row 1: Hero KPI (span 2 cols) + Sidebar",
        "Row 2: Workout Performance Chart (span 2 cols) + Sidebar continues",
        "Row 3: Recent Workouts Table + Nutrition Summary + Goals Progress",
        "Row 4: Body Metrics Chart (span full width)"
      ],
      "hover_reveals": [
        "Workout cards show exercise details on hover",
        "Chart data points show exact values",
        "Quick stats show change percentage"
      ]
    }
  },

  "components": {
    "hero_kpi": {
      "title": "Workouts This Month",
      "source_app": "workouts",
      "calculation": "Count all workout records where datum is in current month AND rest_day is false or null",
      "display_size": "extra-large",
      "context_shown": "Comparison to last month (e.g., '+3 vs last month') and weekly average"
    },
    "secondary_kpis": [
      {
        "title": "Calories Today",
        "source_app": "ernaehrung",
        "calculation": "Sum of kalorien field where datum equals today",
        "format": "number",
        "context": "vs daily goal from ziele"
      },
      {
        "title": "Protein Today",
        "source_app": "ernaehrung",
        "calculation": "Sum of protein field where datum equals today",
        "format": "number",
        "context": "vs daily goal from ziele"
      },
      {
        "title": "Current Weight",
        "source_app": "koerperdaten",
        "calculation": "Most recent gewicht_kg entry",
        "format": "number",
        "context": "Change from 30 days ago"
      },
      {
        "title": "Last Workout",
        "source_app": "workouts",
        "calculation": "Most recent workout datum and typ",
        "format": "text",
        "context": "Days ago"
      }
    ],
    "charts": [
      {
        "type": "bar",
        "title": "Workout Performance (Last 30 Days)",
        "purpose": "Show workout consistency and training type distribution",
        "source_app": "workouts",
        "x_axis": {
          "field": "datum",
          "label": "Date"
        },
        "y_axis": {
          "field": "count",
          "label": "Workouts"
        },
        "grouping": "by week, colored by typ (workout type)",
        "mobile_treatment": "Show last 14 days only, simplified to simple bars without type breakdown"
      },
      {
        "type": "line",
        "title": "Nutrition This Week",
        "purpose": "Track daily calorie and protein intake vs goals",
        "source_app": "ernaehrung",
        "x_axis": {
          "field": "datum",
          "label": "Day"
        },
        "y_axis": {
          "field": "kalorien",
          "label": "Calories"
        },
        "secondary_line": {
          "field": "protein",
          "label": "Protein (g)"
        },
        "goal_lines": "Show target lines from ziele app",
        "mobile_treatment": "Show last 7 days, single metric toggle (calories OR protein)"
      },
      {
        "type": "area",
        "title": "Body Weight Trend",
        "purpose": "Visualize weight changes over time with smoothed trend line",
        "source_app": "koerperdaten",
        "x_axis": {
          "field": "datum",
          "label": "Date"
        },
        "y_axis": {
          "field": "gewicht_kg",
          "label": "Weight (kg)"
        },
        "mobile_treatment": "Show last 30 days, smaller height"
      }
    ],
    "lists": [
      {
        "title": "Recent Workouts",
        "purpose": "Quick access to recent training sessions and ability to review performance",
        "source_app": "workouts",
        "display_fields": [
          "datum",
          "typ",
          "dauer_minuten",
          "stimmung"
        ],
        "sort": "datum descending",
        "mobile_style": "card",
        "desktop_style": "table",
        "limit": 5
      },
      {
        "title": "Active Goals",
        "purpose": "Keep fitness goals visible and track progress",
        "source_app": "ziele",
        "filter": "status equals 'aktiv'",
        "display_fields": [
          "taeglich_kalorien",
          "taeglich_protein",
          "trainingstage_pro_woche"
        ],
        "mobile_style": "simple_list",
        "desktop_style": "cards",
        "limit": 3
      },
      {
        "title": "Today's Meals",
        "purpose": "Track nutrition throughout the day",
        "source_app": "ernaehrung",
        "filter": "datum equals today",
        "display_fields": [
          "mahlzeit_typ",
          "beschreibung",
          "kalorien",
          "protein"
        ],
        "mobile_style": "card",
        "desktop_style": "list",
        "limit": 10
      }
    ],
    "primary_action": {
      "label": "Log Workout",
      "action_type": "add_record",
      "target_app": "workouts",
      "mobile_position": "bottom_fixed",
      "desktop_position": "sidebar_top"
    },
    "secondary_actions": [
      {
        "label": "Add Meal",
        "action_type": "add_record",
        "target_app": "ernaehrung",
        "mobile_position": "inline_nutrition_section",
        "desktop_position": "sidebar"
      },
      {
        "label": "Log Body Data",
        "action_type": "add_record",
        "target_app": "koerperdaten",
        "mobile_position": "inline_body_section",
        "desktop_position": "sidebar"
      }
    ]
  },

  "visual_details": {
    "border_radius": "rounded (12px for cards, 8px for small elements)",
    "shadow_style": "subtle (soft shadows on cards for depth without heaviness)",
    "spacing_density": "normal (16px base grid, 24px section spacing)",
    "animation_style": "subtle_fade (fade-in on load, smooth transitions on interactions)"
  },

  "data_intelligence": {
    "smart_insights": [
      "Show 'Rest Day?' if no workout logged in 2+ days",
      "Highlight if protein goal not met today (after 6pm)",
      "Show positive encouragement if workout consistency improving",
      "Alert if weight trend shows rapid change (>2kg/week)"
    ],
    "empty_states": {
      "no_workouts": "No workouts logged yet. Start your fitness journey!",
      "no_nutrition": "Track your first meal to see nutrition insights",
      "no_body_data": "Log your starting measurements to track progress"
    }
  }
}
